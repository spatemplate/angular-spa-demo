<div ng-controller="TransactionsController as transactions_ctrl">

    <h2>
        Транзакции
        <span class="badge">
            {{transactions_ctrl.transactions_store.length()}}
        </span>
    </h2>

    <form class="form-inline" ng-submit="transactions_ctrl.addTransaction()">
        <div class="form-group">
            <div class="input-group">
                <div class="input-group-addon">$</div>
                <input class="form-control"
                       type="text"
                       placeholder="Сумма"
                       ng-model="transactions_ctrl.newTransaction.amount">
            </div>
        </div>
        <div class="form-group">
            <label class="sr-only"></label>
            <input type="text"
                   class="form-control"
                   placeholder="Описание"
                   ng-model="transactions_ctrl.newTransaction.description">
        </div>
        <button type="submit" class="btn btn-default">Добавить</button>
    </form>

    <br>
    <table class="table table-striped" ng-show="transactions_ctrl.transactions_store.length()">
        <thead>
        <tr>
            <th>Сумма</th>
            <th>Дата</th>
            <th>Описание</th>
            <th>Действия</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="transaction in transactions_ctrl.transactions_store.all()">
            <td>{{transaction.amount}}</td>
            <td>{{transaction.created_at | date : 'short'}}</td>
            <td>{{transaction.description}}</td>
            <td></td>
        </tr>
        </tbody>
    </table>

    <div  ng-show="transactions_ctrl.transactions_store.length() == 0">
        <i class="text-muted">Нет данных</i>
    </div>

</div>